---
import Layout from '../components/Layout.astro';
import BlogGrid from '../components/BlogGrid.astro';

const postImports = import.meta.glob('./blogs/*.md', { eager: true });

const posts = Object.entries(postImports).map(([path, post]) => ({
  url: path.replace('./blogs', '/blogs').replace('.md', ''),
  title: post.frontmatter.title,
  date: post.frontmatter.date,
  thumbnail: post.frontmatter.thumbnail,
  content: post.compiledContent(),
}));
---

<Layout title="All Blog Posts">
  <h1><ul><b>📝 All Blog Posts:</b></ul></h1>
  <p>
    This section features reflections, stories, updates, and thoughts shared by JNVCKM alumni and students. Whether it's about life after school, personal experiences, or meaningful insights, this is the space to express and stay connected.
  </p>
  <BlogGrid posts={posts} />
</Layout>